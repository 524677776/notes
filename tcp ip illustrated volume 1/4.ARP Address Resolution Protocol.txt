4.1 Introduction.
	ARP: Address Resolution Protocol, provides a mapping between the two different forms of addresses: 32-bit IP addresses and whatever type of address the data link uses.
	
	32-bit Internet address -(ARP)-> 48-bit Ethernet address -(RARP)-> 32-bit Internet address
	
	ARP proivdes a dynamic mapping from an IP address to the corresponding hardware address.
		it happens automatically and is normally not a concern of either the application user or the system administrator.
		
	RARP is used by systems without a disk drive but requires manual configuration by the system administrator.
	
4.2 An Example.
	$ftp bsdi
	
	1. the ftp client calls the function gethostbyname to convert the hostname(bsdi) into its 32-bit ip address.
		(this conversion is done using the DNS or on smaller networks, a static hosts file /etc/hosts).
	
	2. the ftp client ask its TCP to establish a conn with that ip address.
	3. TCP sends a connection request segment to the remote host by sending an ip datagram to its ip address.
	4. if the destination host is on a locally attached network, the ip datagram can be sent directly to that host.
	   if the destination host is on a remote network, the ip routing function determines 
			the Internet address of a locally attached next-hop router to send the IP datagram to.
	   in either case the IP datagram is sent to a host or router on locally attched network.
	   
	5. the sending host covert the 32-bit ip address into a 48-bit Ethernet address. a translation is required from the logical Internet address to its corresponding physical hardware address.
	
	6. ARP sends an Ethernet frame called an ARP request to every host on the network. this is called a broadcast.\
	7. the destination host's ARP layer receives this broadcast, recognizes that the sender is asking for its hardware address, and replies with an ARP reply. this reply contains the ip address and the corresponding hardware address.
	8. the arp reply is received and this ip datagram that forced the arp request-reply to be exchanged can now be sent.
	9. the ip datagram is sent to the destination host.
	
4.3 ARP Cache.
	arp cache maintains the recent mappings from Internet address to hardware addresses. the normal expiration time of an entry in the cache is 20 minutes from the time the entry was created.
	
	$arp -a 
	
4.4 ARP Packet Format.
	an ARP request and an ARP reply packet format:
	1. the first two fields in the ethernet header are the source and destination ethernet addresses. 
		note: the special ethernet destination address of all one bits means the broadcast address.
	2. the 2-byte ethernet frame type specifies the type of data that follows. for an arp request or an arp reply. 
	   this field is 0x0806.
	3. the hard type field specifies the type of hardware address. its value is 1 for an ethernet. its value is 0x0800 for ip addresses.
	4. the next two 1-byte fields, hard size and prot size, specify the sizes in bytes of the hardware addresses and teh protocol addresses. for arp request or reply they are 6 or 4, respectively.
	5. the op field specifies whether the operation is an ARP request(value 1), ARP reply(value 2), RARP(value 3), RARP reply(value 4).
	6. the next four fields that follow are the sender's hardware address, the sender's protocol address, the target hardware address, and the target protocol address.
	
4.5 ARP Examples.
	$arp -a 
	$telnet svr4 discard
	telnet>quit
	
	$tcpdump -e
	
	1.arp request to a nonexistent host:
	
	$date; telnet 140.252.13.36;date
	$arp -a
	
	2.arp cache timeout.
		normally have a timeout of 20 minutes for a completed entry and 3 minutes for an incomplete entry.
		these implementations normally restart the 20-minutes timeout for an entry each time the entry is used.
		
4.6 Proxy ARP.
4.7 Gratuitous ARP.
	1. gratuitous arp occurs when a host send an arp request looking for its own ip address. it is usually done when the interface is configured at bootstrap time.
	
	2. gratuitous arp provides two features:
		1. it lets a host determine if another host is already configured with the same ip address.
		2. if the host sending the gratuitous arp has just changed its hardware address, this packet causes any other host on the cable that has an entry in its cache for the old hardware address to update its arp cache entry accordingly.
		
4.8 arp command.
	arp -a to dispaly all the entries in the arp cache.
	arp -d to delete an entry from the arp cache.
	arp -s $hostname $ethernet to add an entries to the cache.
	pub -s causes the system to act as an arp agent for that host.
	
4.9 summary.
	proxy arp : when a router answers arp requests for hosts accessible on another of the router's interface.
	gratuitous arp :sending an arp request for your own ip address, normally when bootstraping.
	
	
	
	
	
	
	
	 
		